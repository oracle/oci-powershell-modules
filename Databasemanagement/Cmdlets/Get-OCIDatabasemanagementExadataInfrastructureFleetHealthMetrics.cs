/*
 * NOTE: Generated using OracleSDKGenerator, API Version: 20201101
 * DO NOT EDIT this file manually.
 *
 * Copyright (c) 2020, 2026, Oracle and/or its affiliates.
 * This software is dual-licensed to you under the Universal Permissive License (UPL) 1.0 as shown at https://oss.oracle.com/licenses/upl or Apache License 2.0 as shown at http://www.apache.org/licenses/LICENSE-2.0. You may choose either license.
 */

using System;
using System.Management.Automation;
using Oci.DatabasemanagementService.Requests;
using Oci.DatabasemanagementService.Responses;
using Oci.DatabasemanagementService.Models;
using Oci.Common.Model;

namespace Oci.DatabasemanagementService.Cmdlets
{
    [Cmdlet("Get", "OCIDatabasemanagementExadataInfrastructureFleetHealthMetrics")]
    [OutputType(new System.Type[] { typeof(Oci.DatabasemanagementService.Models.ExadataInfrastructureFleetHealthMetrics), typeof(Oci.DatabasemanagementService.Responses.GetExadataInfrastructureFleetHealthMetricsResponse) })]
    public class GetOCIDatabasemanagementExadataInfrastructureFleetHealthMetrics : OCIDbManagementCmdlet
    {
        [Parameter(Mandatory = true, ValueFromPipelineByPropertyName = true, HelpMessage = @"The [OCID](https://docs.cloud.oracle.com/Content/General/Concepts/identifiers.htm) of the compartment.")]
        public string CompartmentId { get; set; }

        [Parameter(Mandatory = true, ValueFromPipelineByPropertyName = true, HelpMessage = @"The baseline time for metrics comparison.")]
        public string CompareBaselineTime { get; set; }

        [Parameter(Mandatory = true, ValueFromPipelineByPropertyName = true, HelpMessage = @"The target time for metrics comparison.")]
        public string CompareTargetTime { get; set; }

        [Parameter(Mandatory = false, ValueFromPipelineByPropertyName = true, HelpMessage = @"The client request ID for tracing.")]
        public string OpcRequestId { get; set; }

        [Parameter(Mandatory = false, ValueFromPipelineByPropertyName = true, HelpMessage = @"The time window used for metrics comparison.")]
        public System.Nullable<Oci.DatabasemanagementService.Models.CompareType> CompareType { get; set; }

        [Parameter(Mandatory = false, ValueFromPipelineByPropertyName = true, HelpMessage = @"The filter used to filter the Exadata infrastructures in the fleet by a specific deployment type.")]
        public System.Nullable<Oci.DatabasemanagementService.Models.ExadataInfrastructureDeploymentType> FilterByExadataInfrastructureDeploymentType { get; set; }

        [Parameter(Mandatory = false, ValueFromPipelineByPropertyName = true, HelpMessage = @"The filter used to filter the Exadata infrastructure in the fleet by its lifecycle state. If the parameter is not provided, Exdata infrastructures in any state are returned.")]
        public System.Nullable<Oci.DatabasemanagementService.Models.ExadataInfrastructureLifecycleStateValues.StateEnum> FilterByExadataInfrastructureLifecycleState { get; set; }

        [Parameter(Mandatory = false, ValueFromPipelineByPropertyName = true, HelpMessage = @"The field to sort information by. Only one sortOrder can be used. The default sort order for 'TIMECREATED' is descending and the default sort order for 'NAME' is ascending. The 'NAME' sort order is case-sensitive.")]
        public System.Nullable<Oci.DatabasemanagementService.Requests.GetExadataInfrastructureFleetHealthMetricsRequest.SortByEnum> SortBy { get; set; }

        [Parameter(Mandatory = false, ValueFromPipelineByPropertyName = true, HelpMessage = @"The option to sort information in ascending ('ASC') or descending ('DESC') order. Ascending order is the default order.")]
        public System.Nullable<Oci.DatabasemanagementService.Models.SortOrders> SortOrder { get; set; }

        protected override void ProcessRecord()
        {
            base.ProcessRecord();
            GetExadataInfrastructureFleetHealthMetricsRequest request;

            try
            {
                request = new GetExadataInfrastructureFleetHealthMetricsRequest
                {
                    CompartmentId = CompartmentId,
                    CompareBaselineTime = CompareBaselineTime,
                    CompareTargetTime = CompareTargetTime,
                    OpcRequestId = OpcRequestId,
                    CompareType = CompareType,
                    FilterByExadataInfrastructureDeploymentType = FilterByExadataInfrastructureDeploymentType,
                    FilterByExadataInfrastructureLifecycleState = FilterByExadataInfrastructureLifecycleState,
                    SortBy = SortBy,
                    SortOrder = SortOrder
                };

                response = client.GetExadataInfrastructureFleetHealthMetrics(request).GetAwaiter().GetResult();
                WriteOutput(response, response.ExadataInfrastructureFleetHealthMetrics);
                FinishProcessing(response);
            }
            catch (OciException ex)
            {
                TerminatingErrorDuringExecution(ex);
            }
            catch (Exception ex)
            {
                TerminatingErrorDuringExecution(ex);
            }
        }

        protected override void StopProcessing()
        {
            base.StopProcessing();
            TerminatingErrorDuringExecution(new OperationCanceledException("Cmdlet execution interrupted"));
        }

        private GetExadataInfrastructureFleetHealthMetricsResponse response;
    }
}
